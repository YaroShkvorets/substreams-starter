{
    "name": "Substreams development",
    "dockerComposeFile": "docker-compose.yml",
    "service": "main",
    "workspaceFolder": "/workspace",
    "containerEnv": {},
    "secrets": {
        "SUBSTREAMS_API_TOKEN": {
            "description": "The API token to access Substreams endpoints",
            "documentationUrl": "https://substreams.streamingfast.io/documentation/consume/authentication"
        },
    },
    "forwardPorts": [5432, 8081, 5001, 8080, 8000, 8001, 8020, 8030, 8040],
    "portsAttributes": {
        "5432": {
            "label": "postgres",
        },
        "8081": {
            "label": "pgweb",
        },
        "5001": {
            "label": "ipfs (/webui)",
            "onAutoForward": "silent"
        },
        "8000": {
            "label": "graph-node",
            "onAutoForward": "silent"
        },
        "8001": {
            "label": "graph-node",
            "onAutoForward": "silent"
        },
        "8020": {
            "label": "graph-node",
            "onAutoForward": "silent"
        },
        "8030": {
            "label": "graph-node",
            "onAutoForward": "silent"
        },
        "8040": {
            "label": "graph-node",
            "onAutoForward": "silent"
        },
        "1065": {
            "label": "pprof",
            "onAutoForward": "silent"
        },       
    },
        "customizations": {
        "vscode": {
            "extensions": [
                "1yib.rust-bundle",
                "rust-lang.rust-analyzer",
                "vadimcn.vscode-lldb",
                "/workspace/.vscode/streamingfast.substreams/substreams-0.0.1.vsix"
            ],
            "settings": {   

            }
        }
    },
    
    "features": {
        "./substreams": {},
        "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {}
    },

    //"postCreateCommand": "$(ls  /vscode/bin/*/*/bin/code-server /home/vscode/.vscode-server/bin/*/bin/code-server | head -n1 ) --install-extension .vscode/streamingfast.substreams/substreams-0.0.1.vsix",
}